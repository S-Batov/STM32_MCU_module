<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MCU_Module: Core/Inc/PWM_timer.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MCU_Module
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('_p_w_m__timer_8h.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">PWM_timer.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>PWM timer peripheral interface header.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;stm32g4xx_hal.h&quot;</code><br />
</div>
<p><a href="_p_w_m__timer_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6f050697881692fac68245160e88e231" id="r_a6f050697881692fac68245160e88e231"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f050697881692fac68245160e88e231">PWM_timer_DMA_start</a> (void)</td></tr>
<tr class="memdesc:a6f050697881692fac68245160e88e231"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start DMA transfer for PWM timer.  <br /></td></tr>
<tr class="memitem:ac09c77c6da9ace3d0862a2b691cb1bba" id="r_ac09c77c6da9ace3d0862a2b691cb1bba"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac09c77c6da9ace3d0862a2b691cb1bba">PWM_timer_start</a> (void)</td></tr>
<tr class="memdesc:ac09c77c6da9ace3d0862a2b691cb1bba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts PWM outputs on TIM8 with complementary channels.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>PWM timer peripheral interface header. </p>
<p>This header provides functions for interfacing with the PWM timer, such as functions to start the timer and start the DMA transfer, allowing other modules to access the PWM timer functionality without directly including "main.h"</p>
<dl class="section note"><dt>Note</dt><dd>This file does not configure or initialize the TIM8 peripheral - initialization is performed in "main.c" using CubeMX-generated code. </dd></dl>
</div><a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="a6f050697881692fac68245160e88e231" name="a6f050697881692fac68245160e88e231"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f050697881692fac68245160e88e231">&#9670;&#160;</a></span>PWM_timer_DMA_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef PWM_timer_DMA_start </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start DMA transfer for PWM timer. </p>
<p>Computes the PWM values needed to generate 3 sine-waves phase shifted by 120 deg. Starts the DMA transfer from the array with computed values and PWM timer CCR register. This produces 3 sine-waves shifted by 120 deg on the PWM timer output pins, without any software overhead.</p>
<dl class="section return"><dt>Returns</dt><dd>HAL_StatusTypeDef<ul>
<li>HAL_OK: DMA started successfully</li>
<li>HAL_ERROR: Failure in starting DMA channels</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This function should be called before starting the PWM output to avoid static values in the CCR register. Any reconfiguration of the DMA channels should be done with MOE disabled to prevent glitches or incorrect output during the transition. </dd></dl>

</div>
</div>
<a id="ac09c77c6da9ace3d0862a2b691cb1bba" name="ac09c77c6da9ace3d0862a2b691cb1bba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac09c77c6da9ace3d0862a2b691cb1bba">&#9670;&#160;</a></span>PWM_timer_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef PWM_timer_start </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts PWM outputs on TIM8 with complementary channels. </p>
<p>This function performs the following steps:</p><ol type="1">
<li>Disables the Main Output Enable (MOE) to safely configure outputs.</li>
<li>Starts TIM8 base counter and all PWM channels (TIM_CHANNEL_1, 2, 3) including complementary outputs (N channels).</li>
<li>Enables update and break interrupts for the timer.</li>
<li>Forces an update event to correctly load dead time for the first cycle.</li>
<li>Re-enables MOE to allow PWM outputs to drive the power stage.</li>
</ol>
<p>If any HAL start function fails, all channels are stopped and MOE is disabled, returning HAL_ERROR.</p>
<dl class="section return"><dt>Returns</dt><dd>HAL_StatusTypeDef<ul>
<li>HAL_OK: PWM started successfully</li>
<li>HAL_ERROR: Failure in starting timer or PWM channels </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_c6310732a22f63c0c2fc5595561e68f1.html">Core</a></li><li class="navelem"><a href="dir_e2489e887f17afa3cbc07a4ec152cdd2.html">Inc</a></li><li class="navelem"><a href="_p_w_m__timer_8h.html">PWM_timer.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
